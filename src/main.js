import Vue from 'vue'
import App from './App.vue'

import axios from './utils/request.js'
import "./assets/css/reset.css";

import ElementUI from 'element-ui';
import 'element-ui/lib/theme-chalk/index.css';

Vue.use(ElementUI);

Vue.config.productionTip = false
Vue.prototype.$axios = axios;


const app = new Vue({
  render: h => h(App),
})

// let json = JSON.stringify('{"requestId":"17f2d987-3d2b-4c24-b889-21c8e2b7f82f","reqTime":"1607656829044","resTime":"0","result":{"staffId":"CN417110","staffName":"Nicole J Zhang","headImage":"http://hkapppwv918/ImageWebApi/api/Image/CN417110?type=1","roleName":"","los":"Assurance","resourceList":[{"resourceId":25,"resourceCode":"trainingManagement","resourceParentId":0,"resourceName":"Training Management","resourceType":1,"resourcePath":null,"resourceIconPath":"icon iconfont icon-trainingskillconfig","resourceLevel":1,"children":[{"resourceId":26,"resourceCode":"suitableTypeMaintenance","resourceParentId":25,"resourceName":"Suitable Type Maintenance","resourceType":1,"resourcePath":"/trainingManagement/suitableTypeMaintenance","resourceIconPath":"icon iconfont icon-moban","resourceLevel":2,"children":[{"resourceId":42,"resourceCode":"suitableTypeMaintenance:Batch Import","resourceParentId":26,"resourceName":"Batch Import","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":3,"children":[]},{"resourceId":43,"resourceCode":"suitableTypeMaintenance:Export","resourceParentId":26,"resourceName":"Export","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":3,"children":[]},{"resourceId":44,"resourceCode":"suitableTypeMaintenance:Modify","resourceParentId":26,"resourceName":"Modify","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":3,"children":[]},{"resourceId":45,"resourceCode":"suitableTypeMaintenance:View","resourceParentId":26,"resourceName":"View","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":3,"children":[]}]},{"resourceId":27,"resourceCode":"trainingRecordMaintenance","resourceParentId":25,"resourceName":"Training Record Maintenance","resourceType":1,"resourcePath":"/trainingManagement/trainingRecordMaintenance","resourceIconPath":"icon iconfont icon-moban","resourceLevel":2,"children":[{"resourceId":46,"resourceCode":"trainingRecordMaintenance:Batch Import","resourceParentId":27,"resourceName":"Batch Import","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":3,"children":[]},{"resourceId":47,"resourceCode":"trainingRecordMaintenance:Export","resourceParentId":27,"resourceName":"Export","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":3,"children":[]},{"resourceId":48,"resourceCode":"trainingRecordMaintenance:Delete","resourceParentId":27,"resourceName":"Delete","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":3,"children":[]},{"resourceId":49,"resourceCode":"trainingRecordMaintenance:View","resourceParentId":27,"resourceName":"View","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":3,"children":[]}]},{"resourceId":28,"resourceCode":"trainingTitleMaintenance","resourceParentId":25,"resourceName":"Training Title Maintenance","resourceType":1,"resourcePath":"/trainingManagement/trainingTitleMaintenance","resourceIconPath":"icon iconfont icon-moban","resourceLevel":2,"children":[{"resourceId":50,"resourceCode":"trainingTitleMaintenance:Add Title","resourceParentId":28,"resourceName":"Add Title","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":3,"children":[]},{"resourceId":51,"resourceCode":"trainingTitleMaintenance:Batch Import","resourceParentId":28,"resourceName":"Batch Import","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":3,"children":[]},{"resourceId":52,"resourceCode":"trainingTitleMaintenance:Export","resourceParentId":28,"resourceName":"Export","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":3,"children":[]},{"resourceId":53,"resourceCode":"trainingTitleMaintenance:Modify","resourceParentId":28,"resourceName":"Modify","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":3,"children":[]},{"resourceId":54,"resourceCode":"trainingTitleMaintenance:View","resourceParentId":28,"resourceName":"View","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":3,"children":[]}]},{"resourceId":29,"resourceCode":"trainingSchemeMaintenance","resourceParentId":25,"resourceName":"Training Scheme Maintenance","resourceType":1,"resourcePath":"/trainingManagement/trainingSchemeMaintenance","resourceIconPath":"icon iconfont icon-moban","resourceLevel":2,"children":[{"resourceId":55,"resourceCode":"trainingSchemeMaintenance:Add","resourceParentId":29,"resourceName":"Add","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":3,"children":[]},{"resourceId":56,"resourceCode":"trainingSchemeMaintenance:Duplicate","resourceParentId":29,"resourceName":"Duplicate","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":3,"children":[]},{"resourceId":57,"resourceCode":"trainingSchemeMaintenance:Review","resourceParentId":29,"resourceName":"Review","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":3,"children":[]},{"resourceId":58,"resourceCode":"trainingSchemeMaintenance:Active/Inactive","resourceParentId":29,"resourceName":"Active/Inactive","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":3,"children":[]},{"resourceId":59,"resourceCode":"trainingSchemeMaintenance:Calculate","resourceParentId":29,"resourceName":"Calculate","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":3,"children":[]},{"resourceId":60,"resourceCode":"trainingSchemeMaintenance:Modify","resourceParentId":29,"resourceName":"Modify","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":3,"children":[]},{"resourceId":61,"resourceCode":"trainingSchemeMaintenance:View","resourceParentId":29,"resourceName":"View","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":3,"children":[]}]}]},{"resourceId":30,"resourceCode":"userSkill","resourceParentId":0,"resourceName":"User Skill","resourceType":1,"resourcePath":"/userSkill","resourceIconPath":"icon iconfont icon-changeteamleader","resourceLevel":1,"children":[{"resourceId":62,"resourceCode":"userSkill:Export","resourceParentId":30,"resourceName":"Export ","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":63,"resourceCode":"userSkill:Evaluate","resourceParentId":30,"resourceName":"Evaluate","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":64,"resourceCode":"userSkill:Add","resourceParentId":30,"resourceName":"Add","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":65,"resourceCode":"userSkill:View","resourceParentId":30,"resourceName":"View","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]}]},{"resourceId":31,"resourceCode":"reviewerCertification","resourceParentId":0,"resourceName":"Reviewer Certification","resourceType":1,"resourcePath":"/reviewerCertification","resourceIconPath":"icon iconfont icon-ReviewerCertification","resourceLevel":1,"children":[{"resourceId":66,"resourceCode":"reviewerCertification:Export","resourceParentId":31,"resourceName":"Export","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":67,"resourceCode":"reviewerCertification:Batch Apply","resourceParentId":31,"resourceName":"Batch Apply","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[{"resourceId":99,"resourceCode":"reviewerCertification:Batch Apply:Nomination","resourceParentId":67,"resourceName":"Nomination","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":3,"children":[]},{"resourceId":100,"resourceCode":"reviewerCertification:Batch Apply:Certification","resourceParentId":67,"resourceName":"Certification","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":3,"children":[]}]},{"resourceId":68,"resourceCode":"reviewerCertification:Apply for Nomination","resourceParentId":31,"resourceName":"Apply for Nomination","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":69,"resourceCode":"reviewerCertification:Review Certification","resourceParentId":31,"resourceName":"Review Certification","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":70,"resourceCode":"reviewerCertification:Review Nomination","resourceParentId":31,"resourceName":"Review Nomination","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":71,"resourceCode":"reviewerCertification:Approve Reviewer Right","resourceParentId":31,"resourceName":"Approve Reviewer Right","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":72,"resourceCode":"reviewerCertification:Terminate","resourceParentId":31,"resourceName":"Terminate","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":73,"resourceCode":"reviewerCertification:Modify","resourceParentId":31,"resourceName":"Modify","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":74,"resourceCode":"reviewerCertification:View","resourceParentId":31,"resourceName":"View","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]}]},{"resourceId":32,"resourceCode":"inspectionData","resourceParentId":0,"resourceName":"Inspection Data Maintenance","resourceType":1,"resourcePath":"/inspectionData","resourceIconPath":"icon iconfont icon-InspectionData","resourceLevel":1,"children":[{"resourceId":75,"resourceCode":"inspectionData:Import Examination Result","resourceParentId":32,"resourceName":"Import Examination Result","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":76,"resourceCode":"inspectionData:Export Examination Result","resourceParentId":32,"resourceName":"Export Examination Result","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":77,"resourceCode":"inspectionData:Import Accumulated Hours(for Service Type)","resourceParentId":32,"resourceName":"Import Accumulated Hours(for Service Type)","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":78,"resourceCode":"inspectionData:Export Accumulated Hours(for Service Type)","resourceParentId":32,"resourceName":"Export Accumulated Hours(for Service Type)","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":79,"resourceCode":"inspectionData:Import The Latest 12 Months Status(for Service Type)","resourceParentId":32,"resourceName":"Import The Latest 12 Months Status(for Service Type)","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":80,"resourceCode":"inspectionData:Export The Latest 12 Months Status(for Service Type)","resourceParentId":32,"resourceName":"Export The Latest 12 Months Status(for Service Type)","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":81,"resourceCode":"inspectionData:Import Accumulated Hours(for Task Type)","resourceParentId":32,"resourceName":"Import Accumulated Hours(for Task Type)","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":82,"resourceCode":"inspectionData:Export Accumulated Hours(for Task Type)","resourceParentId":32,"resourceName":"Export Accumulated Hours(for Task Type)","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":83,"resourceCode":"inspectionData:Import The Latest 12 Months Status(for Task Type)","resourceParentId":32,"resourceName":"Import The Latest 12 Months Status(for Task Type)","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":84,"resourceCode":"inspectionData:Export The Latest 12 Months Status(for Task Type)","resourceParentId":32,"resourceName":"Export The Latest 12 Months Status(for Task Type)","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":85,"resourceCode":"inspectionData:View","resourceParentId":32,"resourceName":"View","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]}]},{"resourceId":33,"resourceCode":"skillRequirementConfig","resourceParentId":0,"resourceName":"Skill Requirement Config","resourceType":1,"resourcePath":"/skillRequirmentConfig","resourceIconPath":"icon iconfont icon-SkillRequirement","resourceLevel":1,"children":[{"resourceId":86,"resourceCode":"skillRequirementConfig:Add","resourceParentId":33,"resourceName":"Add","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":87,"resourceCode":"skillRequirementConfig:Modify","resourceParentId":33,"resourceName":"Modify","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":88,"resourceCode":"skillRequirementConfig:View","resourceParentId":33,"resourceName":"View","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]}]},{"resourceId":34,"resourceCode":"serviceTypeConfig","resourceParentId":0,"resourceName":"Service Type Config","resourceType":1,"resourcePath":"/serviceTypeConfig","resourceIconPath":"icon iconfont icon-total","resourceLevel":1,"children":[{"resourceId":89,"resourceCode":"serviceTypeConfig:Add Service Type","resourceParentId":34,"resourceName":"Add Service Type","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":90,"resourceCode":"serviceTypeConfig:Modify","resourceParentId":34,"resourceName":"Modify","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":91,"resourceCode":"serviceTypeConfig:Export","resourceParentId":34,"resourceName":"Export","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":92,"resourceCode":"serviceTypeConfig:View","resourceParentId":34,"resourceName":"View","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]}]},{"resourceId":39,"resourceCode":"ratingReport","resourceParentId":0,"resourceName":"Rating Report","resourceType":1,"resourcePath":"/ratingReport","resourceIconPath":"icon iconfont icon-export1","resourceLevel":1,"children":[{"resourceId":93,"resourceCode":"ratingReport:Import","resourceParentId":39,"resourceName":"Import","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":94,"resourceCode":"ratingReport:Export","resourceParentId":39,"resourceName":"Export","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":95,"resourceCode":"ratingReport:View","resourceParentId":39,"resourceName":"View","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]}]},{"resourceId":41,"resourceCode":"skillReport","resourceParentId":0,"resourceName":"Skill Report","resourceType":1,"resourcePath":"/skillReport","resourceIconPath":"icon iconfont icon-SkillReport","resourceLevel":1,"children":[{"resourceId":96,"resourceCode":"skillReport:Export Reviewer List","resourceParentId":41,"resourceName":"Export Reviewer List","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":97,"resourceCode":"skillReport:Export Reviewer Certification Log","resourceParentId":41,"resourceName":"Export Reviewer Certification Log","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]},{"resourceId":98,"resourceCode":"skillReport:Export Processor Skill Report","resourceParentId":41,"resourceName":"Export Processor Skill Report","resourceType":2,"resourcePath":null,"resourceIconPath":null,"resourceLevel":2,"children":[]}]}]},"remark":"OK","status":"OK","code":200,"params":{}}')


axios.get('http://10.157.109.40/backend/admin/all_resource').then((res)=>{
  if(res.code == 200) {
    app.$mount('#app')
    // app.$userData = JSON.parse(JSON.parse(json));
    app.$userData = res;
    // console.log(app, '122222')
  } else if (res.code == 999) {
    // Vue.prototype.$userData = JSON.parse(JSON.parse(json));
    // console.log(app, '122222')
    // app.$mount('#app');
    window.location.href = res.data + '/' + encodeURIComponent(btoa(window.location.href)) 
  }
}).catch(err => {
  console.log(err)
})